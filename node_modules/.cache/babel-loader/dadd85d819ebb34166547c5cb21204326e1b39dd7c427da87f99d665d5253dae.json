{"ast":null,"code":"import { createElementVNode as _createElementVNode, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, withCtx as _withCtx, createVNode as _createVNode, createCommentVNode as _createCommentVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, toDisplayString as _toDisplayString } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"center-align\",\n  style: {\n    \"margin-bottom\": \"20px\"\n  }\n};\nconst _hoisted_3 = {\n  class: \"row\"\n};\nconst _hoisted_4 = {\n  class: \"col s12 m3 categories-sidebar\"\n};\nconst _hoisted_5 = {\n  class: \"collection with-header\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"collection-item\"\n};\nconst _hoisted_7 = [\"src\"];\nconst _hoisted_8 = {\n  class: \"col s12 m9\"\n};\nconst _hoisted_9 = {\n  class: \"row\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"col s12\"\n};\nconst _hoisted_11 = {\n  class: \"card\"\n};\nconst _hoisted_12 = {\n  class: \"card-image\"\n};\nconst _hoisted_13 = [\"src\"];\nconst _hoisted_14 = {\n  class: \"card-title\"\n};\nconst _hoisted_15 = {\n  class: \"card-content\"\n};\nconst _hoisted_16 = {\n  class: \"card-action\"\n};\nconst _hoisted_17 = [\"href\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  const _component_router_link = _resolveComponent(\"router-link\");\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_cache[5] || (_cache[5] = _createElementVNode(\"header\", {\n    class: \"header\"\n  }, [_createElementVNode(\"h1\", {\n    class: \"center-align\"\n  }, \"Welcome to Our Hardware Store\")], -1 /* HOISTED */)), _createElementVNode(\"div\", _hoisted_2, [_createVNode(_component_router_link, {\n    to: \"/about\",\n    class: \"btn\"\n  }, {\n    default: _withCtx(() => _cache[0] || (_cache[0] = [_createTextVNode(\"About Us\")])),\n    _: 1 /* STABLE */\n  })]), _createElementVNode(\"div\", _hoisted_3, [_createCommentVNode(\" Sidebar for Categories \"), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_cache[1] || (_cache[1] = _createElementVNode(\"div\", {\n    class: \"collection-header\"\n  }, [_createElementVNode(\"h5\", null, \"Categories\")], -1 /* HOISTED */)), $data.categories.length === 0 ? (_openBlock(), _createElementBlock(\"a\", _hoisted_6, \"No categories available\")) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.categories, category => {\n    return _openBlock(), _createElementBlock(\"a\", {\n      key: category.id,\n      href: \"#!\",\n      class: \"collection-item\"\n    }, [category.image ? (_openBlock(), _createElementBlock(\"img\", {\n      key: 0,\n      src: category.image,\n      alt: \"Category Image\",\n      class: \"circle category-image\"\n    }, null, 8 /* PROPS */, _hoisted_7)) : _createCommentVNode(\"v-if\", true), _createTextVNode(\" \" + _toDisplayString(category.name), 1 /* TEXT */)]);\n  }), 128 /* KEYED_FRAGMENT */))])]), _createCommentVNode(\" Product Section \"), _createElementVNode(\"div\", _hoisted_8, [_createElementVNode(\"div\", _hoisted_9, [$data.products.length === 0 ? (_openBlock(), _createElementBlock(\"div\", _hoisted_10, _cache[2] || (_cache[2] = [_createElementVNode(\"p\", null, \"No products available\", -1 /* HOISTED */)]))) : _createCommentVNode(\"v-if\", true), (_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.products, product => {\n    return _openBlock(), _createElementBlock(\"div\", {\n      class: \"col s12 m6 l4\",\n      key: product.id\n    }, [_createElementVNode(\"div\", _hoisted_11, [_createElementVNode(\"div\", _hoisted_12, [_createCommentVNode(\"                <img :src=\\\"product.image\\\" alt=\\\"Product Image\\\">\"), _createElementVNode(\"img\", {\n      src: product.image ? $options.getProductImage(product.productId) : '/assets/',\n      alt: \"Product Image\"\n    }, null, 8 /* PROPS */, _hoisted_13), _createElementVNode(\"span\", _hoisted_14, _toDisplayString(product.name), 1 /* TEXT */)]), _createElementVNode(\"div\", _hoisted_15, [_createElementVNode(\"p\", null, _toDisplayString(product.description), 1 /* TEXT */), _createElementVNode(\"p\", null, [_cache[3] || (_cache[3] = _createElementVNode(\"strong\", null, \"Price:\", -1 /* HOISTED */)), _createTextVNode(\" $\" + _toDisplayString(product.price), 1 /* TEXT */)])]), _createElementVNode(\"div\", _hoisted_16, [_cache[4] || (_cache[4] = _createElementVNode(\"a\", {\n      href: \"/cart\"\n    }, \"Add to Cart\", -1 /* HOISTED */)), _createElementVNode(\"a\", {\n      href: '/product/' + product.id\n    }, \"View Details\", 8 /* PROPS */, _hoisted_17)])])]);\n  }), 128 /* KEYED_FRAGMENT */))])])])]);\n}","map":{"version":3,"names":["class","style","key","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_createVNode","_component_router_link","to","default","_withCtx","_cache","_createTextVNode","_","_hoisted_3","_createCommentVNode","_hoisted_4","_hoisted_5","$data","categories","length","_hoisted_6","_Fragment","_renderList","category","id","href","image","src","alt","_hoisted_7","_toDisplayString","name","_hoisted_8","_hoisted_9","products","_hoisted_10","product","_hoisted_11","_hoisted_12","$options","getProductImage","productId","_hoisted_13","_hoisted_14","_hoisted_15","description","price","_hoisted_16","_hoisted_17"],"sources":["C:\\Users\\Rupert\\Desktop\\Capstone2024_Front-End\\src\\views\\HomePage.vue"],"sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <header class=\"header\">\r\n      <h1 class=\"center-align\">Welcome to Our Hardware Store</h1>\r\n    </header>\r\n    <div class=\"center-align\" style=\"margin-bottom: 20px;\">\r\n      <router-link to=\"/about\" class=\"btn\">About Us</router-link>\r\n    </div>\r\n    <div class=\"row\">\r\n      <!-- Sidebar for Categories -->\r\n      <div class=\"col s12 m3 categories-sidebar\">\r\n        <div class=\"collection with-header\">\r\n          <div class=\"collection-header\"><h5>Categories</h5></div>\r\n          <a v-if=\"categories.length === 0\" class=\"collection-item\">No categories available</a>\r\n          <a v-for=\"category in categories\" :key=\"category.id\" href=\"#!\" class=\"collection-item\">\r\n            <img v-if=\"category.image\" :src=\"category.image\" alt=\"Category Image\" class=\"circle category-image\">\r\n            {{ category.name }}\r\n          </a>\r\n        </div>\r\n      </div>\r\n\r\n      <!-- Product Section -->\r\n      <div class=\"col s12 m9\">\r\n        <div class=\"row\">\r\n          <div v-if=\"products.length === 0\" class=\"col s12\"><p>No products available</p></div>\r\n          <div class=\"col s12 m6 l4\" v-for=\"product in products\" :key=\"product.id\">\r\n            <div class=\"card\">\r\n              <div class=\"card-image\">\r\n<!--                <img :src=\"product.image\" alt=\"Product Image\">--> <img :src=\"product.image ? getProductImage(product.productId) : '/assets/'\" alt=\"Product Image\">\r\n                <span class=\"card-title\">{{ product.name }}</span>\r\n              </div>\r\n              <div class=\"card-content\">\r\n                <p>{{ product.description }}</p>\r\n                <p><strong>Price:</strong> ${{ product.price }}</p>\r\n              </div>\r\n              <div class=\"card-action\">\r\n                <a href=\"/cart\">Add to Cart</a>\r\n                <a :href=\"'/product/' + product.id\">View Details</a>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n<script>\r\n// import { ref, onMounted } from 'vue';\r\nimport { getProducts } from '@/services/productService.js';\r\nimport { getCategories } from '@/services/categoryService';\r\n\r\nexport default {\r\n  name: 'HomePage',\r\n//   setup() {\r\n//     const products = ref([]);\r\n//     const categories = ref([]);\r\n//\r\n//     onMounted(async () => {\r\n//   try {\r\n//     products.value = await getProducts();\r\n//     categories.value = await getCategories();\r\n//     console.log(categories.value); // Check if images are correctly loaded\r\n//   } catch (error) {\r\n//     console.error('Error fetching data:', error);\r\n//   }\r\n// });\r\n  data() {\r\n    return {\r\n      products: [],\r\n      categories: [],\r\n      isAddModalVisible: false,\r\n      sortKey: '',\r\n      sortAsc: true\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchProducts();\r\n    await this.fetchCategories();  // Fetch categories on component load\r\n  },\r\n  methods: {\r\n    async fetchProducts() {\r\n      try {\r\n        this.products = await getProducts();\r\n      } catch (error) {\r\n        console.error('Error fetching products:', error);\r\n      }\r\n    },\r\n    async fetchCategories() {\r\n      try {\r\n        this.categories = await getCategories();\r\n        console.log(this.categories); // Log to verify that categories are fetched\r\n        this.filteredCategories = this.categories;\r\n      } catch (error) {\r\n        console.error('Error fetching categories:', error);\r\n      }\r\n    },\r\n    // Construct the image URL for the product\r\n    getProductImage(productId) {\r\n      return `http://localhost:5119/products/${productId}/image`;\r\n    },\r\n    sortBy(key) {\r\n      this.sortKey = key;\r\n      this.sortAsc = !this.sortAsc;\r\n      this.products.sort((a, b) => {\r\n        let modifier = 1;\r\n        if (!this.sortAsc) modifier = -1;\r\n        if (a[key] < b[key]) return -1 * modifier;\r\n        if (a[key] > b[key]) return 1 * modifier;\r\n        return 0;\r\n      });\r\n    }\r\n  }\r\n};\r\n</script>\r\nexport default {\r\n.card-action a:hover {\r\ntext-decoration: underline;\r\n}\r\n<style scoped>\r\n/* Align Categories Vertically and Improve Styling */\r\n.categories-sidebar {\r\n  padding-right: 20px;\r\n  border-right: 1px solid #e0e0e0;\r\n}\r\n\r\n.collection .collection-item {\r\n  display: flex;\r\n  align-items: center;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #e0e0e0;\r\n}\r\n\r\n.collection .collection-item img.category-image {\r\n  width: 40px;\r\n  height: 40px;\r\n  margin-right: 10px;\r\n  border-radius: 50%;\r\n}\r\n\r\n.collection-header {\r\n  font-weight: bold;\r\n  font-size: 1.2em;\r\n  margin-bottom: 10px;\r\n}\r\n\r\n.card {\r\n  margin: 20px auto;\r\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\r\n  border-radius: 10px;\r\n  overflow: hidden;\r\n}\r\n\r\n.card-image img {\r\n  width: 100%;\r\n  height: 200px;\r\n  object-fit: cover;\r\n}\r\n\r\n.card-title {\r\n  background: rgba(0, 0, 0, 0.5);\r\n  color: white;\r\n  padding: 10px;\r\n}\r\n\r\n.card-content {\r\n  padding: 15px;\r\n}\r\n\r\n.card-action {\r\n  background: #f5f5f5;\r\n  padding: 10px;\r\n  text-align: center;\r\n}\r\n\r\n.card-action a {\r\n  color: #007bff;\r\n  text-decoration: none;\r\n  margin: 0 10px;\r\n}\r\n\r\n.card-action a:hover {\r\n  text-decoration: underline;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}