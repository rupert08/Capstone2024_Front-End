{"ast":null,"code":"import { getOrders, deleteCategory, updateCategory, createCategory } from '@/services/orderService';\nexport default {\n  data() {\n    return {\n      orders: [],\n      filteredOrders: [],\n      sortKey: '',\n      sortAsc: true,\n      showAddModal: false,\n      showUpdateModal: false,\n      selectedCategory: null,\n      newCategory: {\n        name: '',\n        description: ''\n      },\n      searchQuery: '',\n      filterKey: ''\n    };\n  },\n  async created() {\n    await this.fetchOrders();\n  },\n  methods: {\n    async fetchCategories() {\n      try {\n        this.orders = await getOrders();\n        this.filteredCategories = this.orders;\n      } catch (error) {\n        console.error('Error fetching categories:', error);\n      }\n    },\n    async removeCategory(categoryId) {\n      if (confirm('Are you sure you want to delete this category?')) {\n        try {\n          await deleteCategory(categoryId);\n          await this.fetchCategories();\n        } catch (error) {\n          console.error('Error deleting category:', error);\n        }\n      }\n    },\n    openAddModal() {\n      this.showAddModal = true;\n    },\n    closeAddModal() {\n      this.showAddModal = false;\n      this.newCategory = {\n        name: '',\n        description: ''\n      };\n    },\n    async submitAdd() {\n      try {\n        await createCategory(this.newCategory);\n        await this.fetchCategories();\n        this.closeAddModal();\n      } catch (error) {\n        console.error('Error adding category:', error);\n      }\n    },\n    openUpdateModal(category) {\n      this.selectedCategory = {\n        ...category\n      };\n      this.showUpdateModal = true;\n    },\n    closeUpdateModal() {\n      this.showUpdateModal = false;\n      this.selectedCategory = null;\n    },\n    async submitUpdate() {\n      try {\n        await updateCategory(this.selectedCategory);\n        await this.fetchCategories();\n        this.closeUpdateModal();\n      } catch (error) {\n        console.error('Error updating category:', error);\n      }\n    },\n    searchCategories() {\n      this.filteredCategories = this.categories.filter(category => {\n        return category.name.toLowerCase().includes(this.searchQuery.toLowerCase()) || category.description.toLowerCase().includes(this.searchQuery.toLowerCase());\n      });\n    },\n    filterCategories() {\n      if (this.filterKey) {\n        this.filteredCategories = this.categories.filter(category => {\n          return category[this.filterKey].toLowerCase().includes(this.searchQuery.toLowerCase());\n        });\n      } else {\n        this.filteredCategories = this.categories;\n      }\n    }\n  }\n};","map":{"version":3,"names":["getOrders","deleteCategory","updateCategory","createCategory","data","orders","filteredOrders","sortKey","sortAsc","showAddModal","showUpdateModal","selectedCategory","newCategory","name","description","searchQuery","filterKey","created","fetchOrders","methods","fetchCategories","filteredCategories","error","console","removeCategory","categoryId","confirm","openAddModal","closeAddModal","submitAdd","openUpdateModal","category","closeUpdateModal","submitUpdate","searchCategories","categories","filter","toLowerCase","includes","filterCategories"],"sources":["C:\\Users\\Rupert\\Desktop\\Capstone2024_Front-End\\src\\views\\adminviews\\OrderManagement.vue"],"sourcesContent":["<template>\r\n  <div class=\"management-section\">\r\n    <h3>Manage Orders</h3>\r\n    <table>\r\n      <thead>\r\n      <tr>\r\n        <th>Order ID</th>\r\n<!--        <th>Customer Name</th>-->\r\n<!--        <th>Shipping Address</th>-->\r\n        <th>Order Date</th>\r\n        <th>Status</th>\r\n        <th>Payment Method</th>\r\n        <th>Shipped/Collected</th>\r\n        <th>Total Amount</th>\r\n        <th>CartID</th>\r\n        <th>ShippingID</th>\r\n        <th>Actions</th>\r\n      </tr>\r\n      </thead>\r\n      <tbody>\r\n      <tr v-for=\"order in orders\" :key=\"order.orderID\">\r\n        <td>{{ order.orderID }}</td>\r\n<!--        <td>{{ order.cart.customerName }}</td>-->\r\n<!--        <td>{{ order.shipping.address }}</td>-->\r\n        <td>{{ order.orderDate }}</td>\r\n        <td>{{ order.orderStatus }}</td>\r\n        <td>{{ order.paymentMethod }}</td>\r\n        <td>{{ order.shippedOrCollected ? 'Yes' : 'No' }}</td>\r\n        <td>{{ order.totalAmount }}</td>\r\n        <td>{{ order.cartID }}</td>\r\n        <td>{{ order.shippingID }}</td>\r\n        <td><button @click=\"deleteOrder(order.orderID)\">Delete</button></td>\r\n      </tr>\r\n      </tbody>\r\n    </table>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { getOrders, deleteCategory, updateCategory, createCategory } from '@/services/orderService';\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      orders: [],\r\n      filteredOrders: [],\r\n      sortKey: '',\r\n      sortAsc: true,\r\n      showAddModal: false,\r\n      showUpdateModal: false,\r\n      selectedCategory: null,\r\n      newCategory: {\r\n        name: '',\r\n        description: ''\r\n      },\r\n      searchQuery: '',\r\n      filterKey: ''\r\n    };\r\n  },\r\n  async created() {\r\n    await this.fetchOrders();\r\n  },\r\n  methods: {\r\n    async fetchCategories() {\r\n      try {\r\n        this.orders = await getOrders();\r\n        this.filteredCategories = this.orders;\r\n      } catch (error) {\r\n        console.error('Error fetching categories:', error);\r\n      }\r\n    },\r\n    async removeCategory(categoryId) {\r\n      if (confirm('Are you sure you want to delete this category?')) {\r\n        try {\r\n          await deleteCategory(categoryId);\r\n          await this.fetchCategories();\r\n        } catch (error) {\r\n          console.error('Error deleting category:', error);\r\n        }\r\n      }\r\n    },\r\n    openAddModal() {\r\n      this.showAddModal = true;\r\n    },\r\n    closeAddModal() {\r\n      this.showAddModal = false;\r\n      this.newCategory = { name: '', description: '' };\r\n    },\r\n    async submitAdd() {\r\n      try {\r\n        await createCategory(this.newCategory);\r\n        await this.fetchCategories();\r\n        this.closeAddModal();\r\n      } catch (error) {\r\n        console.error('Error adding category:', error);\r\n      }\r\n    },\r\n    openUpdateModal(category) {\r\n      this.selectedCategory = { ...category };\r\n      this.showUpdateModal = true;\r\n    },\r\n    closeUpdateModal() {\r\n      this.showUpdateModal = false;\r\n      this.selectedCategory = null;\r\n    },\r\n    async submitUpdate() {\r\n      try {\r\n        await updateCategory(this.selectedCategory);\r\n        await this.fetchCategories();\r\n        this.closeUpdateModal();\r\n      } catch (error) {\r\n        console.error('Error updating category:', error);\r\n      }\r\n    },\r\n    searchCategories() {\r\n      this.filteredCategories = this.categories.filter(category => {\r\n        return category.name.toLowerCase().includes(this.searchQuery.toLowerCase()) ||\r\n            category.description.toLowerCase().includes(this.searchQuery.toLowerCase());\r\n      });\r\n    },\r\n    filterCategories() {\r\n      if (this.filterKey) {\r\n        this.filteredCategories = this.categories.filter(category => {\r\n          return category[this.filterKey].toLowerCase().includes(this.searchQuery.toLowerCase());\r\n        });\r\n      } else {\r\n        this.filteredCategories = this.categories;\r\n      }\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.management-section {\r\n  background-color: #fff;\r\n  padding: 20px;\r\n  margin-bottom: 20px;\r\n  border-radius: 8px;\r\n}\r\n\r\ntable {\r\n  width: 100%;\r\n  border-collapse: collapse;\r\n}\r\n\r\nth, td {\r\n  text-align: left;\r\n  padding: 10px;\r\n  border-bottom: 1px solid #ddd;\r\n}\r\n\r\nbutton {\r\n  padding: 5px 10px;\r\n  background-color: #3498db;\r\n  color: #fff;\r\n  border: none;\r\n  border-radius: 4px;\r\n  cursor: pointer;\r\n}\r\n\r\nbutton:hover {\r\n  background-color: #2980b9;\r\n}\r\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}